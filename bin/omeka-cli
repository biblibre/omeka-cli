#!/usr/bin/env php
<?php

require_once __DIR__ . '/../bootstrap.php';

use OmekaCli\Application;
use OmekaCli\Exception\BadUsageException;

try {
    $application = Application::fromArgv();
    $application->initialize();
    $exitCode = $application->run();
    exit($exitCode);
} catch (BadUsageException $e) {
    error_log('Error: ' . $e->getMessage());
    fwrite(STDERR, Application::usage());
    exit(1);
}
