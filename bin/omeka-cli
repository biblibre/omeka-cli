#!/usr/bin/env php
<?php

define('OMEKACLI_VERSION', '0.15.0');
define('OMEKACLI_PATH',    __DIR__ . '/..');

require_once OMEKACLI_PATH . '/vendor/autoload.php';

use OmekaCli\Application;
use OmekaCli\Exception\BadUsageException;

try {
    $application = Application::fromArgv();
    $application->initialize();
    $exitCode = $application->run();
    exit($exitCode);
} catch (BadUsageException $e) {
    error_log('Error: ' . $e->getMessage());
    print Application::usage();
}
